# =============================================================================
# SelfOpt environment variables
#
# Copy this file to .env for local development.
# On Railway, set each variable in the service's "Variables" tab.
#
# Supabase — get these from supabase.com → project → Settings → API
# =============================================================================

# ---------------------------------------------------------------------------
# Supabase (cloud — https://supabase.com)
# ---------------------------------------------------------------------------
SUPABASE_URL=https://<project-ref>.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Direct Postgres connection (Settings → Database → Connection string → URI)
# Railway / Supabase both emit plain postgresql:// — the app normalises it.
DATABASE_URL=postgresql://postgres:<password>@db.<project-ref>.supabase.co:5432/postgres

# ---------------------------------------------------------------------------
# Redis  (add the Railway Redis plugin; it sets REDIS_URL automatically)
# ---------------------------------------------------------------------------
REDIS_URL=redis://default:<password>@<host>:<port>

# ---------------------------------------------------------------------------
# GitHub App  (github.com → Settings → Developer settings → GitHub Apps)
# ---------------------------------------------------------------------------
GITHUB_APP_ID=
# Paste the entire PEM on one line, with literal \n between lines:
# "-----BEGIN RSA PRIVATE KEY-----\nMIIE...\n-----END RSA PRIVATE KEY-----\n"
GITHUB_PRIVATE_KEY=
GITHUB_WEBHOOK_SECRET=

# ---------------------------------------------------------------------------
# LLM provider API keys  (at least one required for agent runs)
# Default provider: anthropic / claude-sonnet-4-5
# ---------------------------------------------------------------------------
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# ---------------------------------------------------------------------------
# Observability  (optional — leave blank to disable)
# ---------------------------------------------------------------------------
SENTRY_DSN=

# ---------------------------------------------------------------------------
# App
# ---------------------------------------------------------------------------
DEBUG=false
# Restrict CORS to your Vercel deployment URL in production.
# You can add multiple origins: ["https://evobase.vercel.app", "https://your-custom-domain.com"]
# CORS_ORIGINS=["https://evobase.vercel.app"]
CORS_ORIGINS=["*"]

# ---------------------------------------------------------------------------
# Web (Next.js on Vercel) — set this in Vercel project → Settings → Environment Variables
# Point it at the Railway api service's public URL.
# This must be set at BUILD time (Vercel bakes NEXT_PUBLIC_ vars into the bundle).
# ---------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=https://api-production-xxxx.up.railway.app
